(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(7),r=n.n(c),s=n(3),a=n(4),o=n(15),u="SET_USER_ID",i="SET_USER",l="SET_TODOS",d={selectedUserId:0,user:null,todos:[]},j=Object(o.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(a.a)(Object(a.a)({},e),{},{selectedUserId:t.payloud});case i:return Object(a.a)(Object(a.a)({},e),{},{user:t.payloud});case l:return Object(a.a)(Object(a.a)({},e),{},{todos:t.payloud});default:return e}})),p=j,b=n(0),f=(n(23),n(24),n(9)),h=n(5),O=n(10),m=n(2),x=n.n(m),v=(n(26),n(13)),_=n.n(v),y="https://mate.academy/students-api";function N(e){return fetch("".concat(y,"/users/").concat(e)).then((function(e){return e.json()})).catch((function(){return null}))}var C=function(){var e=Object(h.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat(y,"/todos?completed=").concat(t)).then((function(e){return e.json()})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e,t){return fetch("".concat(y,"/todos/").concat(e),{method:"PATCH",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify({completed:!t})})}var T=function(){return{type:i,payloud:null}},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:l,payloud:e}},g=function(e){return e.selectedUserId},U=function(e){return e.user},S=function(e){return e.todos},A=n(1),E=function(){var e=Object(b.useState)([]),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(b.useState)(""),a=Object(O.a)(r,2),o=a[0],l=a[1],d=Object(b.useState)("All"),j=Object(O.a)(d,2),p=j[0],m=j[1],v=Object(s.b)(),U=Object(s.c)(g),E=Object(s.c)(S),I=function(){var e=Object(h.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/todos")).then((function(e){return e.json()}));case 2:t=e.sent,v(w(t)),c(E);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){I()}),[]);Object(b.useEffect)((function(){!function(){var e=E.filter((function(e){return e.title.includes(o)}));c(Object(f.a)(e))}()}),[E,o]);var L=function(){var e=Object(h.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:n=e.sent,v(n?{type:i,payloud:n}:T());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){U!==e&&(L(e),v(function(){return{type:u,payloud:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}(e)))},J=function(){var e=Object(h.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:n=e.sent,v(w(n)),c(E);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){switch(e){case"active":J(!1);break;case"completed":J(!0);break;default:I()}},D=function(){var e=Object(h.a)(x.a.mark((function e(t,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t,n);case 2:R(p);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(A.jsxs)("div",{className:"TodoList",children:[Object(A.jsx)("h2",{children:"Todos:"}),Object(A.jsxs)("div",{className:"TodoList__list-container",children:[Object(A.jsx)("input",{type:"text",name:"titleFilter",className:"input",placeholder:"Search todo",value:o,onChange:function(e){var t=e.target.value;l(t)}}),Object(A.jsxs)("select",{name:"selectTodos",defaultValue:p,className:"select",onChange:function(e){var t=e.target.value;R(t),m(t)},children:[Object(A.jsx)("option",{value:"all",children:"All"}),Object(A.jsx)("option",{value:"active",children:"Active"}),Object(A.jsx)("option",{value:"completed",children:"Completed"})]}),Object(A.jsx)("button",{type:"button",className:"button is-primary is-light",onClick:function(){var e=Number((20*Math.random()).toFixed(0)),t=Object(f.a)(n).sort((function(t,n){return t.title[e]&&n.title[e]?t.title[e].localeCompare(n.title[e]):-1}));c(Object(f.a)(t))},children:"Randomize"}),Object(A.jsx)("ul",{className:"TodoList__list",children:n.map((function(e){return Object(A.jsxs)("li",{className:_()("TodoList__item",{"TodoList__item--unchecked":!e.completed},{"TodoList__item--checked":e.completed}),children:[Object(A.jsxs)("label",{htmlFor:"".concat(e.id),children:[Object(A.jsx)("input",{type:"checkbox",id:"".concat(e.id),checked:e.completed,onChange:function(){return D(e.id,e.completed)}}),Object(A.jsx)("p",{children:e.title})]}),Object(A.jsxs)("button",{className:_()("TodoList__user-button","button",{"TodoList__user-button--selected":e.userId===U}),type:"button",onClick:function(){return F(e.userId)},children:["User\xa0",e.userId]})]},e.id)}))})]})]})},I=(n(28),function(){var e=Object(s.b)(),t=Object(s.c)(U);return Object(A.jsxs)("div",{className:"CurrentUser",children:[t?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{className:"CurrentUser__title",children:Object(A.jsxs)("span",{children:["Selected user:",t.id]})}),Object(A.jsx)("h3",{className:"CurrentUser__name",children:t.name}),Object(A.jsx)("p",{className:"CurrentUser__email",children:t.email}),Object(A.jsx)("p",{className:"CurrentUser__phone",children:t.phone})]}):Object(A.jsx)("span",{children:"Can not find a User"}),Object(A.jsx)("br",{}),Object(A.jsx)("button",{className:"button",type:"button",onClick:function(){e({type:u,payloud:0}),e(T())},children:"Clear"})]})}),L=function(){var e=Object(s.c)(g);return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{className:"App__sidebar",children:Object(A.jsx)(E,{})}),Object(A.jsx)("div",{className:"App__content",children:Object(A.jsx)("div",{className:"App__content-container",children:e?Object(A.jsx)(I,{}):"No user selected"})})]})},F=function(){return Object(A.jsx)(s.a,{store:p,children:Object(A.jsx)(L,{})})};r.a.render(Object(A.jsx)(F,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.21050fbe.chunk.js.map